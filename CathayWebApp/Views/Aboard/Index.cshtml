@{
    Layout = "~/Views/Aboard/shared/_template.cshtml";
    ViewData["PageTitle"] = "國泰世華銀行香港分行";
        // Mock ListOfNews data
    var  currentLanguage = ViewData["lang"] as string;
    var mockNews = new List<object>
    { 
        new {
            Id = 1,
            Title = currentLanguage switch
            {
                "zh-hant" => "國泰世華銀行最新服務公告",
                "en" => "Cathay United Bank Latest Service Announcement",
                "km" => "ការប្រកាសសេវាកម្មចុងក្រោយរបស់ធនាគារ Cathay United",
                _ => "國泰世華銀行最新服務公告"
            },
            Summary = currentLanguage switch
            {
                "zh-hant" => "為提供更優質的金融服務，本行將推出全新數位銀行功能。",
                "en" => "To provide better financial services, we are launching new digital banking features.",
                "km" => "ដើម្បីផ្តល់សេវាកម្មហិរញ្ញវត្ថុកាន់តែប្រសើរ យើងកំពុងបើកដំណើរការលក្ខណៈពិសេសធនាគារឌីជីថលថ្មី។",
                _ => "為提供更優質的金融服務，本行將推出全新數位銀行功能。"
            },
            PublishDate = DateTime.Now.AddDays(-1),
            Url = "/news/digital-banking-features"
        },
        new {
            Id = 2,
            Title = currentLanguage switch
            {
                "zh-hant" => "匯率優惠活動開跑",
                "en" => "Special Exchange Rate Promotion",
                "km" => "ការផ្តល់ជូនអត្រាប្តូរប្រាក់ពិសេស",
                _ => "匯率優惠活動開跑"
            },
            Summary = currentLanguage switch
            {
                "zh-hant" => "即日起至月底，享受更優惠的外幣兌換服務。",
                "en" => "From now until the end of the month, enjoy better foreign exchange rates.",
                "km" => "ចាប់ពីឥឡូវនេះរហូតដល់ចុងខែ រីករាយជាមួយអត្រាប្តូរប្រាក់បរទេសប្រសើរជាង។",
                _ => "即日起至月底，享受更優惠的外幣兌換服務。"
            },
            PublishDate = DateTime.Now.AddDays(-3),
            Url = "/news/exchange-rate-promotion"
        },
        new {
            Id = 3,
            Title = currentLanguage switch
            {
                "zh-hant" => "ATM服務據點擴展通知",
                "en" => "ATM Service Point Expansion Notice",
                "km" => "ការជូនដំណឹងពីការពង្រីកចំណុចសេវាកម្ម ATM",
                _ => "ATM服務據點擴展通知"
            },
            Summary = currentLanguage switch
            {
                "zh-hant" => "為方便客戶使用，新增多個ATM服務據點。",
                "en" => "For customer convenience, we have added multiple new ATM service points.",
                "km" => "ដើម្បីភាពងាយស្រួលរបស់អតិថិជន យើងបានបន្ថែមចំណុចសេវាកម្ម ATM ថ្មីជាច្រើន។",
                _ => "為方便客戶使用，新增多個ATM服務據點。"
            },
            PublishDate = DateTime.Now.AddDays(-7),
            Url = "/news/atm-expansion"
        }
    };
    ViewData["ListOfNews"] = mockNews;
}



<!-- This content will be rendered by the template's bodyPath -->


@if (ViewData["lang"] as string == "zh-hant")
{
    ViewData["PageTitle"] = "";
    ViewData["PageDescription"] = "國泰世華商業銀行香港分行於2002年2月1日 成立及註冊，提供一站式銀行服務，包括存匯、企業金融、貿易融資、私人銀行、埸外交易衍生工具等服務。此外，香港分行可透過網上銀行平台，提供優質的銀行服務。";
}
else
{
    ViewData["PageTitle"] = "";
    ViewData["PageDescription"] = "";
}

@section Scripts {

    <script type="text/javascript" src="@Url.Content("~/OVSWS/Content/js/lib/jquery.scrollbar.min.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/OVSWS/Content/js/lib/slick.min.js")"></script>


    <script>
        var homeCard = homeCard || {};
        homeCard.prototype = {
            sameHeight: function () {

                let window_w = $(window).width();
                let max_h = 0;
                let scope = $('.component-oversea-services');
                $('.cos-item-description', scope).css('min-height', 0);
                if (window_w >= 768) {
                    $('.cos-item', scope).each(function () {
                        let h = $('.cos-item-description', $(this)).height();
                        if (h > max_h) {
                            max_h = h;
                        }
                    })
                    $('.cos-item-description', scope).height(max_h);
                } else {
                    $('.cos-item-description', scope).css('height', 'auto');
                }
            },
            addEventListener: function () {
                let o = this;
                $(window).on('resize.homeCard', function () {
                    o.sameHeight();
                }).trigger('resize.homeCard');
            },
            init: function () {
                this.addEventListener();
            }
        }
    </script>

    <script>
        $(function () {

            var myHomeCard = homeCard.prototype;
            myHomeCard.init();


            //
            $(window).resize(function () {

                let window_w = $(window).width();
                let offset_x;
                let content_w;
                if (window_w > 991) {
                    offset_x = $('.cok-inner').offset().left;
                    content_w = $('.cok-content').width();
                    max_w = window_w - content_w - offset_x;
                } else {
                    offset_x = 0;
                    content_w = 0;
                    max_w = window_w;
                }
                $('.cok-figure-wrap').css('width', max_w);
                $('.cok-figure-wrap').css('flex-basis', max_w);
                $('.cok-figure-wrap').css('max-width', max_w);
                $('.cok-figure-wrap').css('left', content_w + offset_x);

            }).trigger('resize');

            $(".cok-figure-slider").slick({
                infinite: false,
                slidesToShow: 1,
                dots: false
            });

            ////////////////////////////

            $('.con-list', $(this)).scrollbar();
        })
    </script>
}

<div class='component-oversea-kv'>
    <div class="cok-figure-wrap">
        <div class="cok-figure-slider">
            <span class="cok-figure-item">
                <figure class='cok-figure'>
                    <picture>
                        <source media='(min-width: 992px)'
                                srcset='@Url.Content("~/assets/img/ui/bg-lg.jpg")' />
                        <source media='(min-width: 7686px)'
                                srcset='@Url.Content("~/assets/img/ui/bg-md.jpg")' />
                        <img class='cok-img' src='@Url.Content("~/assets/img/ui/bg.jpg")' alt='海外據點'>
                    </picture>
                    <figcaption hidden>海外據點</figcaption>
                </figure>
            </span>
        </div>
    </div>

    <div class="cok-inner">
        <div class="cok-content">
           <h1 class='cok-title'>
                <span class='cok-title--company'>國泰世華銀行</span>
                <span class='cok-title--slogan'>值得您<br />信賴的夥伴</span>
           </h1>

            @{
                var newsList = ViewData["ListOfNews"] as IEnumerable<object>;
            }
            @if (newsList != null && newsList.Any())
            {
                <div class='component-oversea-news'>
                    <h2 class='con-title'><a class='con-title-link' href="@Url.Content("~/"+ViewData["country_url"]+ViewData["city_url"]+ViewData["lang_url"]+"/news")/">@ViewData["home_latest_news"]</a></h2>
                    <ul class='con-list scrollbar-inner'>
                        @foreach (dynamic item in newsList)
                        {
                            <li class='con-item'>
                                <a href="@Url.Content("~/"+ViewData["country_url"]+ViewData["city_url"]+ViewData["lang_url"]+"/news")/@item.Id/" class='con-item-link'>
                                    <span class='con-item-date'>@item.PublishDate.ToString("yyyy.MM.dd")</span>
                                    <span class='con-item-title'>@item.Title</span>
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            }
            
        </div>
    </div>
</div>
